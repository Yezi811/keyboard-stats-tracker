# 便携版测试指南

## 测试步骤

### 1. 测试便携版启动
```bash
# 直接运行便携版
.\release\"Keyboard Stats Tracker 1.0.0.exe"
```

**预期结果**:
- ✅ 应用正常启动
- ✅ 窗口显示自定义图标
- ✅ 系统托盘显示图标
- ✅ 界面显示中文

### 2. 测试功能
- ✅ 按几个键，检查是否实时统计
- ✅ 切换日/月/年视图
- ✅ 测试搜索功能
- ✅ 测试导出功能
- ✅ 测试清空数据功能

### 3. 测试单实例
```bash
# 尝试启动第二个实例
.\release\"Keyboard Stats Tracker 1.0.0.exe"
```

**预期结果**:
- ✅ 第二个实例不会启动
- ✅ 第一个实例窗口会被激活并置顶

### 4. 测试系统托盘
- ✅ 最小化窗口，检查是否隐藏到托盘
- ✅ 双击托盘图标，检查是否恢复窗口
- ✅ 右键托盘图标，检查菜单功能

### 5. 测试数据持久化
1. 关闭应用
2. 重新启动应用
3. 检查之前的统计数据是否保留

**预期结果**:
- ✅ 数据正常保存
- ✅ 重启后数据完整

## 安装版测试

### 1. 安装测试
```bash
# 运行安装程序
.\release\"Keyboard Stats Tracker Setup 1.0.0.exe"
```

**预期结果**:
- ✅ 显示安装向导
- ✅ 可以选择安装目录
- ✅ 创建桌面快捷方式
- ✅ 创建开始菜单快捷方式

### 2. 卸载测试
1. 从控制面板或设置中卸载
2. 检查是否完全卸载

**预期结果**:
- ✅ 程序文件被删除
- ✅ 快捷方式被删除
- ✅ 用户数据保留在 %APPDATA% 中

## 图标测试

### 窗口图标
- ✅ 窗口左上角显示自定义图标
- ✅ 任务栏显示自定义图标
- ✅ Alt+Tab 切换时显示自定义图标

### 托盘图标
- ✅ 系统托盘显示自定义图标
- ✅ 图标清晰可见

### 文件图标
- ✅ exe 文件显示自定义图标
- ✅ 快捷方式显示自定义图标

## 性能测试

### 1. 内存使用
- 启动后检查任务管理器
- 预期内存使用: < 150 MB

### 2. CPU使用
- 正常使用时 CPU 使用率应该很低
- 预期 CPU 使用: < 1%

### 3. 响应速度
- 界面操作应该流畅
- 切换视图应该快速响应

## 问题排查

### 如果图标不显示
1. 清理 Windows 图标缓存
```bash
.\clear-icon-cache.bat
```

2. 重启应用

### 如果无法启动
1. 检查是否有其他实例在运行
2. 检查系统托盘
3. 查看错误日志: `%APPDATA%\keyboard-stats-tracker\error.log`

### 如果数据丢失
1. 检查备份文件夹: `%APPDATA%\keyboard-stats-tracker\backups\`
2. 使用"恢复数据"功能

## 测试清单

- [ ] 便携版可以正常启动
- [ ] 安装版可以正常安装
- [ ] 窗口图标正确显示
- [ ] 托盘图标正确显示
- [ ] 键盘统计功能正常
- [ ] 搜索功能正常
- [ ] 导出功能正常
- [ ] 数据清空功能正常
- [ ] 数据恢复功能正常
- [ ] 单实例锁定正常
- [ ] 系统托盘功能正常
- [ ] 开机自启动功能正常
- [ ] 数据持久化正常
- [ ] 性能表现良好
- [ ] 卸载功能正常

---

**测试完成后，应用即可发布！**
