# å•å®ä¾‹æ›´æ–°è¯´æ˜

## âœ… å·²æ·»åŠ åŠŸèƒ½

å·²åœ¨ä»£ç ä¸­æ·»åŠ å•å®ä¾‹é”å®šåŠŸèƒ½ï¼Œé˜²æ­¢åº”ç”¨è¢«å¤šæ¬¡æ‰“å¼€ã€‚

### åŠŸèƒ½è¯´æ˜

- **å•å®ä¾‹é”å®š**ï¼šåŒä¸€æ—¶é—´åªèƒ½è¿è¡Œä¸€ä¸ªåº”ç”¨å®ä¾‹
- **è‡ªåŠ¨èšç„¦**ï¼šå°è¯•æ‰“å¼€ç¬¬äºŒä¸ªå®ä¾‹æ—¶ï¼Œä¼šè‡ªåŠ¨æ˜¾ç¤ºå¹¶èšç„¦ç¬¬ä¸€ä¸ªå®ä¾‹çš„çª—å£
- **é˜²æ­¢é‡å¤ç»Ÿè®¡**ï¼šé¿å…å¤šä¸ªå®ä¾‹åŒæ—¶ç»Ÿè®¡å¯¼è‡´æŒ‰é”®æ¬¡æ•°å€å¢

## ğŸ”„ å¦‚ä½•æ›´æ–°

### æ­¥éª¤1ï¼šå…³é—­æ‰€æœ‰è¿è¡Œä¸­çš„å®ä¾‹

1. å³é”®ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡ â†’ é€‰æ‹©"é€€å‡º"
2. æˆ–è€…æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç»“æŸæ‰€æœ‰ "Keyboard Stats Tracker" è¿›ç¨‹
3. ç¡®ä¿æ²¡æœ‰ä»»ä½•å®ä¾‹åœ¨è¿è¡Œ

### æ­¥éª¤2ï¼šé‡æ–°æ‰“åŒ…

```bash
# åˆ é™¤æ—§çš„æ‰“åŒ…æ–‡ä»¶ï¼ˆå¦‚æœæ–‡ä»¶è¢«å ç”¨ï¼Œå…ˆå…³é—­æ‰€æœ‰å®ä¾‹ï¼‰
Remove-Item -Recurse -Force release

# é‡æ–°ç¼–è¯‘
npm run build

# é‡æ–°æ‰“åŒ…
npx electron-builder --win --x64 --dir
```

### æ­¥éª¤3ï¼šæµ‹è¯•

1. è¿è¡Œ `release/win-unpacked/Keyboard Stats Tracker.exe`
2. å†æ¬¡åŒå‡»åŒä¸€ä¸ª exe æ–‡ä»¶
3. åº”è¯¥çœ‹åˆ°ç¬¬ä¸€ä¸ªçª—å£è¢«æ¿€æ´»ï¼Œè€Œä¸æ˜¯æ‰“å¼€æ–°çª—å£

## ğŸ¯ é¢„æœŸè¡Œä¸º

### ç¬¬ä¸€æ¬¡æ‰“å¼€
- åº”ç”¨æ­£å¸¸å¯åŠ¨
- æ˜¾ç¤ºä¸»çª—å£
- æ‰˜ç›˜å›¾æ ‡å‡ºç°

### å°è¯•ç¬¬äºŒæ¬¡æ‰“å¼€
- ä¸ä¼šæ‰“å¼€æ–°çª—å£
- ç¬¬ä¸€ä¸ªå®ä¾‹çš„çª—å£ä¼šè¢«æ¿€æ´»
- å¦‚æœçª—å£è¢«æœ€å°åŒ–ï¼Œä¼šè‡ªåŠ¨æ¢å¤
- å¦‚æœçª—å£è¢«éšè—ï¼Œä¼šè‡ªåŠ¨æ˜¾ç¤º

## ğŸ“ ä»£ç å˜æ›´

åœ¨ `src/main/main.ts` ä¸­æ·»åŠ äº†ï¼š

```typescript
// Single instance lock - prevent multiple instances
const gotTheLock = app.requestSingleInstanceLock();

if (!gotTheLock) {
  // Another instance is already running, quit this one
  app.quit();
} else {
  // This is the first instance
  app.on('second-instance', () => {
    // Someone tried to run a second instance, focus our window instead
    if (mainWindow) {
      if (mainWindow.isMinimized()) mainWindow.restore();
      if (!mainWindow.isVisible()) mainWindow.show();
      mainWindow.focus();
    }
  });
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¿…é¡»å…ˆå…³é—­æ‰€æœ‰å®ä¾‹**æ‰èƒ½é‡æ–°æ‰“åŒ…
2. å¦‚æœæ–‡ä»¶è¢«å ç”¨ï¼Œæ— æ³•åˆ é™¤ release æ–‡ä»¶å¤¹
3. å¯ä»¥é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨å¼ºåˆ¶ç»“æŸè¿›ç¨‹

## ğŸš€ å¿«é€Ÿå‘½ä»¤

å¦‚æœé‡åˆ°æ–‡ä»¶è¢«å ç”¨çš„é—®é¢˜ï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨ç»“æŸè¿›ç¨‹
# æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ (Ctrl+Shift+Esc)
# æ‰¾åˆ° "Keyboard Stats Tracker" è¿›ç¨‹
# å³é”® â†’ ç»“æŸä»»åŠ¡

# æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤è¡Œç»“æŸè¿›ç¨‹
taskkill /F /IM "Keyboard Stats Tracker.exe"

# ç„¶åé‡æ–°æ‰“åŒ…
npm run build
npx electron-builder --win --x64 --dir
```

## âœ¨ æ›´æ–°åçš„ä¼˜åŠ¿

- âœ… é˜²æ­¢è¯¯æ“ä½œæ‰“å¼€å¤šä¸ªå®ä¾‹
- âœ… é¿å…æŒ‰é”®ç»Ÿè®¡é‡å¤è®¡æ•°
- âœ… èŠ‚çœç³»ç»Ÿèµ„æº
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
